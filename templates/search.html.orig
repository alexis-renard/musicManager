{% extends "base.html" %}
{% block main %}
    {% if artist_results!=[] or genre_results!=[] or album_result[0]!=[] or compositor_results!=[] or album_result[1]!=[] %}
<div class = "container search_total">
    <div class = "row">
        <h1>Search results for "{{ query }}":</h1>
            {% if artist_results!=[] %}
                <h2>Artist results for "{{ query }}"</h2>
                    <div class="list_artist_pour_query">
                        <ul>
                            {% for artist in artist_results %}
                            <li><a href="{{ url_for('one_artist', id=artist.id) }}">{{ artist.name }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
            {% endif %}
    </div>

    <div class = "row">
            {% if genre_results!=[] %}
            <h2>Genre results for "{{ query }}"</h2>
                <div class="list_genre_pour_query">
                    <ul>
                        {% for genre in genre_results %}
                        <li><a href="{{ url_for('one_genre', id=genre.id) }}">{{ genre.name_g }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
    </div>

    <div class = "row row-lefted">
        {% if album_result[0]!=[] %}
        <div class="list_albums_pour_query">
            <h2>Album results for "{{ query }}"</h2>
                <h3>Resultats dans les titres d'albums</h3>
                    {% for album in album_result[0] %}
                    <div class="col-md-3">
                        <div class="row row-centered">
                            {% if album.img != None %}
                                <a href="{{ url_for('one_album', id=album.id) }}"><img src="{{ url_for('static', filename='img/'+album.img)}}" onerror=this.src="{{ url_for('static', filename='images/404.jpg')}}"></a>
                                {% else %}
                                <img src="{{ url_for('static', filename='images/404.jpg')}}">
                            {% endif %}
                        </div>
                        <div class="row text-center">
                            <a href="{{ url_for('one_album', id=album.id) }}">{{ album.title }}</a>
                        </div>
                    </div>
                    {% endfor %}
        {% endif %}
        </div>
    </div>

    <div class = "row">
        {% if compositor_results!=[] %}
        <div class="list_compositor_pour_query">
            <h3>Resultats dans les compositeurs d'albums :</h3>
                <ul>
                {% for compositor in compositor_results %}
                    <li>{{ compositor.get_name() }}</li>
                {% endfor %}
                </ul>
        </div>
        {% endif %}
    </div>

    <div class = "row">
        {% if album_result[1]!=[] %}
            <div class ="list_annee_pour_query">
                <h3>Resultats dans les années de création d'albums</h3>
                <ul>
                {% for album in album_result[1] %}
                      <li>{{ album.get_title() }}</li>
                      <li>{{ album.get_releaseYear() }}</li>
                      <li>{{ get_name_compositor_context(album.get_compositor()) }}</li>
                      <li>
                          {% for g in album.get_genres() %}
                              {{ g.name_g + " "}}
                          {% endfor %}
                          {% if album.get_img() != None %}
                              <img src="{{ url_for('static', filename='img/'+album.img)}}" onerror=this.src="{{ url_for('static', filename='images/404.jpg')}}">
                          {% else %}
                              <img src="{{ url_for('static', filename='images/404.jpg')}}">
                          {% endif %}
                      </li>
                {% endfor %}
                </ul>
            </div>
        {% endif %}
    </div>

<<<<<<< HEAD
          <li>{{ album.get_title() }}</li>
          <li>{{ album.get_releaseYear() }}</li>
          <li>{{ get_name_compositor_context(album.get_compositor()) }}</li>
          <li>
              {% for g in album.get_genres() %}
                  {{ g.name_g + " "}}
              {% endfor %}
              {% if album.get_img() != None %}
                  <img src="{{ url_for('static', filename='img/'+album.img)}}" onerror=this.src="{{ url_for('static', filename='images/404.jpg')}}">
              {% else %}
                  <img src="{{ url_for('static', filename='images/404.jpg')}}">
              {% endif %}
          </li>
    {% endfor %}
  </ul>
=======
    <div class = "row">
        <div class="resultat_vide_search">
            <h3>Aucun résultat n'a été trouvé dans les catégories suivantes :</h3>
                <ul>
                    {% if artist_results==[] %}
                        <li>Artiste</li>
                    {% endif %}
                    {% if genre_results==[] %}
                        <li>Genre</li>
                    {% endif %}
                    {% if album_result[0]==[] %}
                        <li>Album</li>
                    {% endif %}
                    {% if compositor_results==[] %}
                        <li>Compositor</li>
                    {% endif %}
                    {% if album_result[1]==[] %}
                        <li>Année</li>
                    {% endif %}
                </ul>
        </div>
    </div>
>>>>>>> 74d291b1f5390fccdc0cf0eb2b219e013f4fb497
</div>
    {% else %}
        <h1>Introuvable dans notre base de données</h1>
    {% endif %}
{% endblock %}
