{% extends "base.html" %}
{% block main %}
<div class="container">
  <div class="row titre_toppage">
    <div class="col-md-4">
      <span class="titre_sans_marge"> {{ title }} </span>
    </div>
    <div class="col-md-1 col-md-push-6">
      <a href ="{{ url_for('edit_playlist') }}"><button type="button" class = "glyphicon glyphicon-plus"></button></a>
    </div>
  </div>
  {% if playlists!=[]%}
    {% for playlist in playlists %}
      <div class="row">
        <div class="row">
          <div class="col-md-4">
            <a href="{{ url_for('one_playlist', id=playlist.id) }}">{{ playlist.name }}</a>
          </div>
          <div class="col-md-1 col-md-push-6">
              <a href ="{{ url_for('edit_playlist', id=playlist.id) }}"><button type="button" class = "glyphicon glyphicon-pencil"></button></a>
          </div>
          <div class="col-md-1">
              <a href ="{{ url_for('delete_playlist', id=playlist.id) }}"><button type="button" class = "glyphicon glyphicon-remove"></button></a>
          </div>
        </div>
        <!-- Slick carrousel -->
        {% if playlist.albums != [] %}
          <div class="row carrousel_albums_playlist">
          {% for album in playlist.albums %}
              <div>
                {% if album.img != None %}
                    <img src="{{ url_for('static', filename='img/'+album.img)}}" onerror=this.src="{{ url_for('static', filename='images/404.jpg')}}">
                    {% else %}
                    <img src="{{ url_for('static', filename='images/404.jpg')}}">
                {% endif %}
              </div>
          {% endfor %}
        {% else %}
          <div class="col-md-12 centered">Aucun album à afficher</div>
        {% endif %}
        </div>
    {% endfor %}
    </div>
  {% else %}
  <div class="row">
    <div class="col-md-12 centered">Aucune playlist à afficher, n'hésitez pas à en créer une !</div>
  </div>
  {% endif %}
</div>
{% endblock %}
